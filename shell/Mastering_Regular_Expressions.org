* 第一章 正则表达式入门
** 1.1 Egrep元字符
*** 1.1.1 行的开始和结束
- 脱字符号 ^ 代表一行的开始
- 美元符号 $ 代表一行的结束
- 这两个符号匹配的都是位置，而不是具体的字符
*** 1.1.2 字符组 [...]
**** 匹配若干字符之一
- e匹配e a匹配a [ea]匹配e或者a
- 匹配'grey'或者'gray'
#+BEGIN_SRC 
gr[ea]y
#+END_SRC
- 匹配<H1>, <H2>, ...
#+BEGIN_SRC 
<H[123456]>
#+END_SRC
**** 字符组元字符'-'
- '-'在字符组中表示范围：H<1-6>与H[123456]一样
- [0-9]和[a-z]是常用的匹配数字和小写字母的简便方式
- 字符组的多重范围：[0123456789abcdefABCDEF] = [0-9a-fA-F]
- 字符组也可以加符号：[0-9A-Z_!.?]
**** 排除型字符组 [^...]
- 匹配任何不包括在排除型字符组中的字符
- 匹配除了123456以外任何字符
#+BEGIN_SRC 
[^1-6]
#+END_SRC
*** 1.1.3 用点号匹配任意字符
- 匹配'03/19/76'和'03-19-76'
#+BEGIN_SRC 
03.19.76
#+END_SRC
*** 1.1.4 多选结构
**** 匹配任意子表达式
- '|'表示或
- 匹配Bob或Robert
#+BEGIN_SRC 
Bob|Robert
#+END_SRC
- 在上面的组合中，子表达式称为多选分支
- Eg: 'gr[ea]y' = 'gr(e|a)y' 注意方括号和括号
**** 多选结构和字符组的区别
- 字符组只能匹配文本中的单个字符
- 多选结构可以匹配任意长度的文本
- 匹配以From: /Subject: /Date: 开头的文本
#+BEGIN_SRC 
^(From|Subject|Date): 
#+END_SRC
*** 1.1.5 忽略大小写
- grep -i 参数忽略大小写
*** 1.1.6 单词分界符
**** 元字符序列
- '\<'和'\>'分别匹配单词的开头和结束位置
- 匹配以cat开头的单词
#+BEGIN_SRC 
\<cat
#+END_SRC
*** 1.1.7 小结
| 元字符 | 名称         | 匹配对象                     |
|--------+--------------+------------------------------|
| .      | 点号         | 单个任意字符                 |
| [...]  | 字符组       | 列出的任意字符               |
| [^...] | 排除型字符组 | 未列出的任意字符             |
| ^      | 脱字符       | 行的起始位置                 |
| $      | 美元符       | 行的结束位置                 |
| \<     | 反斜线-小于  | 单词的起始位置               |
| \>     | 反斜线-大于  | 单词的结束位置               |
| ｜     | 竖线         | 匹配分隔两边的任意一个表达式 |
| (...)  | 括号         | 限制竖线的作用范围           |
*** 1.1.8 可选项元素
- '?'表示可选项，对紧邻的左侧元素有效
- 匹配'color'和'colour'
#+BEGIN_SRC 
colou?r
#+END_SRC
- 'u?'表示u可有可没有
- 匹配'4'和'4th'
#+BEGIN_SRC 
4(th)?
#+END_SRC
*** 1.1.9 其他量词：重复出现
- '+'表示紧邻的左侧元素出现一次或多次
- '*'表示紧邻的左侧元素出现任意多次，或者不出现
- '?''+''*'统称为量词
**** 匹配HTML规范的tag
- 在tag结尾的>字符之前，可以出现任意长度的空格，例如<H3 >, <H4   >
#+BEGIN_SRC 
H[1-6] *
#+END_SRC
**** 匹配<HR SIZE=14>
- '>'前可以出现任意多个空格
- '='两边可以出现任意多个空格
- HR和SIZE间最少有一个空格
#+BEGIN_SRC 
<HR +SIZE *= *14 *>
#+END_SRC
**** 匹配数值
- 数值是由一位或多位数字构成，例如3，12，897
#+BEGIN_SRC 
[0-9]+
#+END_SRC
**** 匹配<HR SIZE=xx> 任意数值
#+BEGIN_SRC 
<HR +SIZE *= *[0-9]+ *>
#+END_SRC
**** 匹配<HR>
#+BEGIN_SRC 
<HR( +SIZE *= *[0-9]+)? *>
#+END_SRC
**** 小结
| 量词符号 | 次数下限 | 次数上限 | 含义                           |
|----------+----------+----------+--------------------------------|
| ?        | None     | 1        | 可以出现一次，或者不出现       |
| *        | None     | None     | 可以出现无数次，或者不出现     |
| +        | 1        | None     | 可以出现无数次，但最少出现一次 | 
**** 规定重现次数的范围：区间
- 区间量词：'...{min,max}'
- 匹配1-5个字母
#+BEGIN_SRC 
[a-zA-Z]{1,5}
#+END_SRC
*** 1.1.10 括号及反向引用
- 反向引用：匹配与表达式先前部分匹配的同样的文本
**** Eg.: 逐步匹配'the the'
- 'the the'会错误匹配到'the theory'
- 匹配'the the'
#+BEGIN_SRC 
\<the the\>
#+END_SRC
- 匹配第一个the为任意字符
#+BEGIN_SRC 
[A-Za-z]+
#+END_SRC
- 匹配第二个the为元字符序列
#+BEGIN_SRC 
\<([A-Za-z] +) +\1\>
#+END_SRC
**** 多个括号和多个反向引用
- 匹配'A3 A3'
#+BEGIN_SRC 
([A-Z])([0-9]) +\1\2
#+END_SRC
*** 1.1.11 神奇的转义
- 在元字符前加反斜线，恢复元字符本身的符号含义
** 1.2 基础知识扩展
*** 1.2.1 更多的例子
**** 变量名
- 标识符只包含字母，数字和下划线，并且不能以数字开头
#+BEGIN_SRC 
[a-zA-Z_][a-zA-Z_0-9]*
#+END_SRC
**** 引号内的字符串
- '[^"]'匹配除双引号以外的任意字符
#+BEGIN_SRC 
"[^"]*"
#+END_SRC
**** 美元金额（可能包含小数）
#+BEGIN_SRC 
\$[0-9]+(\.[0-9][0-9])?
#+END_SRC
